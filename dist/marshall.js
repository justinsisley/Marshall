(function(e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e()}else if(typeof define==="function"&&define.amd){define([],e)}else{var t;if(typeof window!=="undefined"){t=window}else if(typeof global!=="undefined"){t=global}else if(typeof self!=="undefined"){t=self}else{t=this}t.marshall=e()}})(function(){var e,t,r;return function n(e,t,r){function i(s,o){if(!t[s]){if(!e[s]){var f=typeof require=="function"&&require;if(!o&&f)return f(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=t[s]={exports:{}};e[s][0].call(l.exports,function(t){var r=e[s][1][t];return i(r?r:t)},l,l.exports,n,e,t,r)}return t[s].exports}var a=typeof require=="function"&&require;for(var s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,r){var n=e("./lib/parser");var i=function a(e){var t={};var r;var i=[];for(var s in e){if(e.hasOwnProperty(s)){t[s]=n.parse(s,e[s],a.locale);i.push(e[s].doc+" ("+s+"): "+t[s])}}return{get:function o(e){if(!e){return t}return t[e]},doc:function f(){return"\n* "+i.join("\n* ")+"\n"}}};i.locale="en-US";t.exports=i},{"./lib/parser":2}],2:[function(e,t,r){var n=e("./validator");t.exports={parse:function i(e,t,r){var i=t.default;var a=t.format;var s=t.env;var o=t.arg;if(s&&process&&process.env&&process.env[s]){i=process.env[s]}if(process&&process.argv&&process.argv instanceof Array){process.argv.forEach(function(e){if(e.indexOf(o)>-1){var t=e.split("=");i=t[1]}})}if(a&&!n.validate(i,a)){n.locale=r||"en-US";throw Error("Configuration validation failed: "+e+' set to "'+i+'"')}return i}}},{"./validator":3}],3:[function(e,t,r){var n=e("validator");t.exports={validate:function i(e,t){if(t instanceof Array){return n.isIn(e,t)}var r=true;switch(t){case Boolean:r=typeof e===Boolean;break;case Number:r=typeof e===Number;break;case String:r=typeof e===String;break;case"port":r=n.isInt(e,{min:0,max:65535});break;case"nat":r=n.isInt(e,{min:0});break;case"url":r=n.isURL(e,{require_protocol:true});break;case"alpha":r=n.isAlpha(e);break;case"bool":r=n.isBoolean(e);break;case"date":r=n.isDate(e);break;case"email":r=n.isEmail(e);break;case"fqdn":r=n.isFQDN(e);break;case"float":r=n.isFloat(e);break;case"ip":r=n.isIP(e);break;case"phone":r=n.isMobilePhone(e,this.locale||"en-US");break;case"number":r=n.isNumeric(e);break}return r}}},{validator:4}],4:[function(t,r,n){(function(t,i){if(typeof n!=="undefined"&&typeof r!=="undefined"){r.exports=i()}else if(typeof e==="function"&&typeof e.amd==="object"){e(i)}else if(typeof e==="function"&&typeof e.petal==="object"){e(t,[],i)}else{this[t]=i()}})("validator",function(e){"use strict";e={version:"4.5.2"};var t=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i;var r=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i;var n=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i;var i=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i;var a=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\s]*<(.+)>$/i;var s=/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/;var o=/^[A-Z]{2}[0-9A-Z]{9}[0-9]$/;var f=/^(?:[0-9]{9}X|[0-9]{10})$/,u=/^(?:[0-9]{13})$/;var l=/^([0-9a-fA-F][0-9a-fA-F]:){5}([0-9a-fA-F][0-9a-fA-F])$/;var c=/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/,p=/^[0-9A-F]{1,4}$/i;var d={3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i};var g=/^[A-Z]+$/i,v=/^[0-9A-Z]+$/i,F=/^[-+]?[0-9]+$/,_=/^(?:[-+]?(?:0|[1-9][0-9]*))$/,x=/^(?:[-+]?(?:[0-9]+))?(?:\.[0-9]*)?(?:[eE][\+\-]?(?:[0-9]+))?$/,h=/^[0-9A-F]+$/i,m=/^[-+]?([0-9]+|\.[0-9]+|[0-9]+\.[0-9]+)$/,b=/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i;var A=/^[\x00-\x7F]+$/,w=/[^\x00-\x7F]/,y=/[^\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/,$=/[\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/;var D=/[\uD800-\uDBFF][\uDC00-\uDFFF]/;var I=/^(?:[A-Z0-9+\/]{4})*(?:[A-Z0-9+\/]{2}==|[A-Z0-9+\/]{3}=|[A-Z0-9+\/]{4})$/i;var O={"zh-CN":/^(\+?0?86\-?)?((13\d|14[57]|15[^4,\D]|17[678]|18\d)\d{8}|170[059]\d{7})$/,"zh-TW":/^(\+?886\-?|0)?9\d{8}$/,"en-ZA":/^(\+?27|0)\d{9}$/,"en-AU":/^(\+?61|0)4\d{8}$/,"en-HK":/^(\+?852\-?)?[569]\d{3}\-?\d{4}$/,"fr-FR":/^(\+?33|0)[67]\d{8}$/,"pt-PT":/^(\+351)?9[1236]\d{7}$/,"el-GR":/^(\+?30)?(69\d{8})$/,"en-GB":/^(\+?44|0)7\d{9}$/,"en-US":/^(\+?1)?[2-9]\d{2}[2-9](?!11)\d{6}$/,"en-ZM":/^(\+26)?09[567]\d{7}$/,"ru-RU":/^(\+?7|8)?9\d{9}$/,"nb-NO":/^(\+?47)?[49]\d{7}$/,"nn-NO":/^(\+?47)?[49]\d{7}$/,"vi-VN":/^(0|\+?84)?((1(2([0-9])|6([2-9])|88|99))|(9((?!5)[0-9])))([0-9]{7})$/,"en-NZ":/^(\+?64|0)2\d{7,9}$/,"en-IN":/^(\+?91|0)?[789]\d{9}$/};var E=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24\:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/;e.extend=function(t,r){e[t]=function(){var t=Array.prototype.slice.call(arguments);t[0]=e.toString(t[0]);return r.apply(e,t)}};e.init=function(){for(var t in e){if(typeof e[t]!=="function"||t==="toString"||t==="toDate"||t==="extend"||t==="init"){continue}e.extend(t,e[t])}};e.toString=function(e){if(typeof e==="object"&&e!==null&&e.toString){e=e.toString()}else if(e===null||typeof e==="undefined"||isNaN(e)&&!e.length){e=""}return""+e};e.toDate=function(e){if(Object.prototype.toString.call(e)==="[object Date]"){return e}e=Date.parse(e);return!isNaN(e)?new Date(e):null};e.toFloat=function(e){return parseFloat(e)};e.toInt=function(e,t){return parseInt(e,t||10)};e.toBoolean=function(e,t){if(t){return e==="1"||e==="true"}return e!=="0"&&e!=="false"&&e!==""};e.equals=function(t,r){return t===e.toString(r)};e.contains=function(t,r){return t.indexOf(e.toString(r))>=0};e.matches=function(e,t,r){if(Object.prototype.toString.call(t)!=="[object RegExp]"){t=new RegExp(t,r)}return t.test(e)};var N={allow_display_name:false,allow_utf8_local_part:true,require_tld:true};e.isEmail=function(s,o){o=k(o,N);if(o.allow_display_name){var f=s.match(a);if(f){s=f[1]}}var u=s.split("@"),l=u.pop(),c=u.join("@");var p=l.toLowerCase();if(p==="gmail.com"||p==="googlemail.com"){c=c.replace(/\./g,"").toLowerCase()}if(!e.isByteLength(c,{max:64})||!e.isByteLength(l,{max:256})){return false}if(!e.isFQDN(l,{require_tld:o.require_tld})){return false}if(c[0]==='"'){c=c.slice(1,c.length-1);return o.allow_utf8_local_part?i.test(c):r.test(c)}var d=o.allow_utf8_local_part?n:t;var g=c.split(".");for(var v=0;v<g.length;v++){if(!d.test(g[v])){return false}}return true};var S={protocols:["http","https","ftp"],require_tld:true,require_protocol:false,require_valid_protocol:true,allow_underscores:false,allow_trailing_dot:false,allow_protocol_relative_urls:false};e.isURL=function(t,r){if(!t||t.length>=2083||/\s/.test(t)){return false}if(t.indexOf("mailto:")===0){return false}r=k(r,S);var n,i,a,s,o,f,u;u=t.split("://");if(u.length>1){n=u.shift();if(r.require_valid_protocol&&r.protocols.indexOf(n)===-1){return false}}else if(r.require_protocol){return false}else if(r.allow_protocol_relative_urls&&t.substr(0,2)==="//"){u[0]=t.substr(2)}t=u.join("://");u=t.split("#");t=u.shift();u=t.split("?");t=u.shift();u=t.split("/");t=u.shift();u=t.split("@");if(u.length>1){i=u.shift();if(i.indexOf(":")>=0&&i.split(":").length>2){return false}}s=u.join("@");u=s.split(":");a=u.shift();if(u.length){f=u.join(":");o=parseInt(f,10);if(!/^[0-9]+$/.test(f)||o<=0||o>65535){return false}}if(!e.isIP(a)&&!e.isFQDN(a,r)&&a!=="localhost"){return false}if(r.host_whitelist&&r.host_whitelist.indexOf(a)===-1){return false}if(r.host_blacklist&&r.host_blacklist.indexOf(a)!==-1){return false}return true};e.isMACAddress=function(e){return l.test(e)};e.isIP=function(t,r){r=e.toString(r);if(!r){return e.isIP(t,4)||e.isIP(t,6)}else if(r==="4"){if(!c.test(t)){return false}var n=t.split(".").sort(function(e,t){return e-t});return n[3]<=255}else if(r==="6"){var i=t.split(":");var a=false;var s=e.isIP(i[i.length-1],4);var o=s?7:8;if(i.length>o)return false;if(t==="::"){return true}else if(t.substr(0,2)==="::"){i.shift();i.shift();a=true}else if(t.substr(t.length-2)==="::"){i.pop();i.pop();a=true}for(var f=0;f<i.length;++f){if(i[f]===""&&f>0&&f<i.length-1){if(a)return false;a=true}else if(s&&f==i.length-1){}else if(!p.test(i[f])){return false}}if(a){return i.length>=1}else{return i.length===o}}return false};var C={require_tld:true,allow_underscores:false,allow_trailing_dot:false};e.isFQDN=function(e,t){t=k(t,C);if(t.allow_trailing_dot&&e[e.length-1]==="."){e=e.substring(0,e.length-1)}var r=e.split(".");if(t.require_tld){var n=r.pop();if(!r.length||!/^([a-z\u00a1-\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(n)){return false}}for(var i,a=0;a<r.length;a++){i=r[a];if(t.allow_underscores){if(i.indexOf("__")>=0){return false}i=i.replace(/_/g,"")}if(!/^[a-z\u00a1-\uffff0-9-]+$/i.test(i)){return false}if(/[\uff01-\uff5e]/.test(i)){return false}if(i[0]==="-"||i[i.length-1]==="-"){return false}if(i.indexOf("---")>=0&&i.slice(0,4)!=="xn--"){return false}}return true};e.isBoolean=function(e){return["true","false","1","0"].indexOf(e)>=0};e.isAlpha=function(e){return g.test(e)};e.isAlphanumeric=function(e){return v.test(e)};e.isNumeric=function(e){return F.test(e)};e.isDecimal=function(e){return e!==""&&m.test(e)};e.isHexadecimal=function(e){return h.test(e)};e.isHexColor=function(e){return b.test(e)};e.isLowercase=function(e){return e===e.toLowerCase()};e.isUppercase=function(e){return e===e.toUpperCase()};e.isInt=function(e,t){t=t||{};return _.test(e)&&(!t.hasOwnProperty("min")||e>=t.min)&&(!t.hasOwnProperty("max")||e<=t.max)};e.isFloat=function(e,t){t=t||{};if(e===""||e==="."){return false}return x.test(e)&&(!t.hasOwnProperty("min")||e>=t.min)&&(!t.hasOwnProperty("max")||e<=t.max)};e.isDivisibleBy=function(t,r){return e.toFloat(t)%e.toInt(r)===0};e.isNull=function(e){return e.length===0};e.isLength=function(e,t){var r,n;if(typeof t==="object"){r=t.min||0;n=t.max}else{r=arguments[1];n=arguments[2]}var i=e.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g)||[];var a=e.length-i.length;return a>=r&&(typeof n==="undefined"||a<=n)};e.isByteLength=function(e,t){var r,n;if(typeof t==="object"){r=t.min||0;n=t.max}else{r=arguments[1];n=arguments[2]}var i=encodeURI(e).split(/%..|./).length-1;return i>=r&&(typeof n==="undefined"||i<=n)};e.isUUID=function(e,t){var r=d[t?t:"all"];return r&&r.test(e)};function j(e){var t=e.match(E),r,n,i,a;if(!t){e=e.toLowerCase();r=e.match(/(?:\s|gmt\s*)(-|\+)(\d{1,4})(\s|$)/);if(!r){return e.indexOf("gmt")!==-1?0:null}n=r[1];var s=r[2];if(s.length===3){s="0"+s}if(s.length<=2){i=0;a=parseInt(s)}else{i=parseInt(s.slice(0,2));a=parseInt(s.slice(2,4))}}else{r=t[21];if(!r){return!t[12]?0:null}if(r==="z"||r==="Z"){return 0}n=t[22];if(r.indexOf(":")!==-1){i=parseInt(t[23]);a=parseInt(t[24])}else{i=0;a=parseInt(t[23])}}return(i*60+a)*(n==="-"?1:-1)}e.isDate=function(e){var t=new Date(Date.parse(e));if(isNaN(t)){return false}var r=j(e);if(r!==null){var n=t.getTimezoneOffset()-r;t=new Date(t.getTime()+6e4*n)}var i=String(t.getDate());var a,s,o;s=e.match(/(^|[^:\d])[23]\d([^:\d]|$)/g);if(!s){return true}a=s.map(function(e){return e.match(/\d+/g)[0]}).join("/");o=String(t.getFullYear()).slice(-2);if(a===i||a===o){return true}else if(a===i+"/"+o||a===o+"/"+i){return true}return false};e.isAfter=function(t,r){var n=e.toDate(r||new Date),i=e.toDate(t);return!!(i&&n&&i>n)};e.isBefore=function(t,r){var n=e.toDate(r||new Date),i=e.toDate(t);return!!(i&&n&&i<n)};e.isIn=function(t,r){var n;if(Object.prototype.toString.call(r)==="[object Array]"){var i=[];for(n in r){i[n]=e.toString(r[n])}return i.indexOf(t)>=0}else if(typeof r==="object"){return r.hasOwnProperty(t)}else if(r&&typeof r.indexOf==="function"){return r.indexOf(t)>=0}return false};e.isWhitelisted=function(e,t){for(var r=e.length-1;r>=0;r--){if(t.indexOf(e[r])===-1){return false}}return true};e.isCreditCard=function(e){var t=e.replace(/[^0-9]+/g,"");if(!s.test(t)){return false}var r=0,n,i,a;for(var o=t.length-1;o>=0;o--){n=t.substring(o,o+1);i=parseInt(n,10);if(a){i*=2;if(i>=10){r+=i%10+1}else{r+=i}}else{r+=i}a=!a}return!!(r%10===0?t:false)};e.isISIN=function(e){if(!o.test(e)){return false}var t=e.replace(/[A-Z]/g,function(e){return parseInt(e,36)});var r=0,n,i,a=true;for(var s=t.length-2;s>=0;s--){n=t.substring(s,s+1);i=parseInt(n,10);if(a){i*=2;if(i>=10){r+=i+1}else{r+=i}}else{r+=i}a=!a}return parseInt(e.substr(e.length-1),10)===(1e4-r)%10};e.isISBN=function(t,r){r=e.toString(r);if(!r){return e.isISBN(t,10)||e.isISBN(t,13)}var n=t.replace(/[\s-]+/g,""),i=0,a;if(r==="10"){if(!f.test(n)){return false}for(a=0;a<9;a++){i+=(a+1)*n.charAt(a)}if(n.charAt(9)==="X"){i+=10*10}else{i+=10*n.charAt(9)}if(i%11===0){return!!n}}else if(r==="13"){if(!u.test(n)){return false}var s=[1,3];for(a=0;a<12;a++){i+=s[a%2]*n.charAt(a)}if(n.charAt(12)-(10-i%10)%10===0){return!!n}}return false};e.isMobilePhone=function(e,t){if(t in O){return O[t].test(e)}return false};var q={symbol:"$",require_symbol:false,allow_space_after_symbol:false,symbol_after_digits:false,allow_negatives:true,parens_for_negatives:false,negative_sign_before_digits:false,negative_sign_after_digits:false,allow_negative_sign_placeholder:false,thousands_separator:",",decimal_separator:".",allow_space_after_digits:false};e.isCurrency=function(e,t){t=k(t,q);return L(t).test(e)};e.isJSON=function(e){try{var t=JSON.parse(e);return!!t&&typeof t==="object"}catch(r){}return false};e.isMultibyte=function(e){return w.test(e)};e.isAscii=function(e){return A.test(e)};e.isFullWidth=function(e){return y.test(e)};e.isHalfWidth=function(e){return $.test(e)};e.isVariableWidth=function(e){return y.test(e)&&$.test(e)};e.isSurrogatePair=function(e){return D.test(e)};e.isBase64=function(e){return I.test(e)};e.isMongoId=function(t){return e.isHexadecimal(t)&&t.length===24};e.isISO8601=function(e){return E.test(e)};e.ltrim=function(e,t){var r=t?new RegExp("^["+t+"]+","g"):/^\s+/g;return e.replace(r,"")};e.rtrim=function(e,t){var r=t?new RegExp("["+t+"]+$","g"):/\s+$/g;return e.replace(r,"")};e.trim=function(e,t){var r=t?new RegExp("^["+t+"]+|["+t+"]+$","g"):/^\s+|\s+$/g;return e.replace(r,"")};e.escape=function(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\//g,"&#x2F;").replace(/\`/g,"&#96;")};e.stripLow=function(t,r){var n=r?"\\x00-\\x09\\x0B\\x0C\\x0E-\\x1F\\x7F":"\\x00-\\x1F\\x7F";return e.blacklist(t,n)};e.whitelist=function(e,t){return e.replace(new RegExp("[^"+t+"]+","g"),"")};e.blacklist=function(e,t){return e.replace(new RegExp("["+t+"]+","g"),"")};var B={lowercase:true,remove_dots:true,remove_extension:true};e.normalizeEmail=function(t,r){r=k(r,B);if(!e.isEmail(t)){return false}var n=t.split("@",2);n[1]=n[1].toLowerCase();if(n[1]==="gmail.com"||n[1]==="googlemail.com"){if(r.remove_extension){n[0]=n[0].split("+")[0]}if(r.remove_dots){n[0]=n[0].replace(/\./g,"")}if(!n[0].length){return false}n[0]=n[0].toLowerCase();n[1]="gmail.com"}else if(r.lowercase){n[0]=n[0].toLowerCase()}return n.join("@")};function k(e,t){e=e||{};for(var r in t){if(typeof e[r]==="undefined"){e[r]=t[r]}}return e}function L(e){var t="(\\"+e.symbol.replace(/\./g,"\\.")+")"+(e.require_symbol?"":"?"),r="-?",n="[1-9]\\d*",i="[1-9]\\d{0,2}(\\"+e.thousands_separator+"\\d{3})*",a=["0",n,i],s="("+a.join("|")+")?",o="(\\"+e.decimal_separator+"\\d{2})?";var f=s+o;if(e.allow_negatives&&!e.parens_for_negatives){if(e.negative_sign_after_digits){f+=r}else if(e.negative_sign_before_digits){f=r+f}}if(e.allow_negative_sign_placeholder){f="( (?!\\-))?"+f}else if(e.allow_space_after_symbol){f=" ?"+f}else if(e.allow_space_after_digits){f+="( (?!$))?"}if(e.symbol_after_digits){f+=t}else{f=t+f}if(e.allow_negatives){if(e.parens_for_negatives){f="(\\("+f+"\\)|"+f+")"}else if(!(e.negative_sign_before_digits||e.negative_sign_after_digits)){f=r+f}}return new RegExp("^"+"(?!-? )(?=.*\\d)"+f+"$")}e.init();return e})},{}]},{},[1])(1)});
